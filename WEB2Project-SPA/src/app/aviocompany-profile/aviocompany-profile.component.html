<div class="container">
  <div class="row">
    <mat-card class="mat-elevation-z8 mat-card1">
      <div id="wrapper">
        <div id="title">
          <h2 class="titletext">{{company?.name}}</h2>
          <span class="overview">-</span>
          <span class="overview">{{company?.promoDescription}}</span>

          <div style="position: absolute; top: 30px; left: 75%;">
            <span><img class="img" src="{{company?.photo}}" alt=""></span>
          </div>

        </div>

        <div style="position: relative; margin-top: 16px;">
          <br />
          <div style="position: absolute; top:0">
            <h6 class="spinnertext" style="margin-left:37px"> User rating:</h6>
          </div>

          <div style="position: absolute; top:0; margin-left: 240px">
            <h6 class="spinnertext"> Total flights:</h6>
          </div>  
        </div>

        <div class="spinner" style="position: relative; width: 60px; height: 60px; display: flex; align-items: center; justify-content: center;">
          <mat-progress-spinner [diameter]="60" style="width: 60px;height: 60px;position: absolute;top: 0;left: 0;" [color]="'accent'" [mode]="'determinate'" [value]="company?.averageGrade*10">
          </mat-progress-spinner>

          <div style="position: absolute; top:20px; left: 14px;">
            <h6 class="spinnertext">{{company?.averageGrade * 10}}%</h6>
          </div>

          <div style="position: absolute; top: 10px; left:230px;">
            <h6 class="spinnertext">{{company?.flights.length}}</h6>
          </div>    

        </div>


        <br />
       
        <h5 class="overview"> Address: </h5>
        <span class="overview">{{company?.address}}</span>        
       <br />

       <div style="width: 100%; margin-top: 30px; margin-left: 50px;">
  
        <form>
          <div class="form-row">

       <div class="col">
        <mat-card style="height: 70px !important">
          <mat-form-field>
            <mat-label>Choose starting destination</mat-label>
            <mat-select [(ngModel)]="startingLocation" [ngModelOptions]="{standalone: true}">
              <mat-option *ngFor="let destination of destinations" [value]="destination.city"  required>
                {{destination.city}} ,{{destination.country}}
              </mat-option>
            </mat-select>
          </mat-form-field>           
        </mat-card>
      </div>

      <div class="col">
        <mat-card style="height: 70px !important">
          <mat-form-field>
            <mat-label>Choose arrival destination</mat-label>
            <mat-select>
              <mat-option *ngFor="let destination of destinations" [value]="destination.city"  required>
                {{destination.city}} ,{{destination.country}}
              </mat-option>
            </mat-select>
          </mat-form-field>       
        </mat-card>
      </div>

      <div class="col">
        <mat-card style="height: 70px !important">
          <mat-form-field>
            <mat-label>Departure date</mat-label>
            <input matInput [matDatepicker]="picker"  [(ngModel)]="startingDate" [ngModelOptions]="{standalone: true}" [min]="startingDate" >
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker >
          </mat-form-field>
        </mat-card>
      </div>

      <div class="col">
        <mat-card style="height: 70px !important">
          <mat-form-field>
            <mat-label>Arrival date</mat-label>
            <input matInput [matDatepicker]="picker2"  [(ngModel)]="startingDate" [ngModelOptions]="{standalone: true}" [min]="startingDate" >
            <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
            <mat-datepicker #picker2></mat-datepicker >
          </mat-form-field>
        </mat-card>
      </div>

      <div class="col" style="margin-top: 10px;">
      <button mat-raised-button color="primary" (click)="buyTicket()">Search</button>
      </div>

     </div>
      </form>
      </div>


      </div>
    </mat-card>

    <mat-card class="mat-elevation-z8 mat-card2">
      <mat-card class="mat-card3">

        <span class="sidetitle">Min Price : {{minPriceChosen}}</span>
        <br/>

        <div>
          <mat-slider style="width: 100% !important;"
          [(value)]="minPriceChosen"
          class="example-margin"
          [max]="maxPriceChosen"
          [min]="0"
          [step]="3"
          [thumbLabel]="true"
          color="primary">
      </mat-slider>
      <span style="font-weight: bold;">0</span>
        <span style="font-weight: bold; float: right;">1000</span>
        </div>

        <div>
          <hr>
        </div>

        <span class="sidetitle">Max Price : {{maxPriceChosen}}</span>

        <br/>

        <div>
          <mat-slider style="width: 100% !important;"
          [(value)]="maxPriceChosen"
          class="example-margin"
          [max]="1000"
          [min]="minPriceChosen"
          [step]="3"
          [thumbLabel]="true"
          color="primary">
        </mat-slider>
        <span style="font-weight: bold;">0</span>
        <span style="font-weight: bold; float: right;">1000</span>
        </div>

      </mat-card>
      
  
      <div *ngFor="let flight of company?.flights">

        <app-flight-card [flight]= "flight" [company]="company"></app-flight-card>
      </div>
 

    </mat-card>

  </div>
</div>

